<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE -- ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: [object Object]
	@module can-fixture
######################################################################## -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<title></title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	
	<link rel="stylesheet" type="text/css" href="./static/bundles/bit-docs-site/static.css">
	
</head>
	<body>
		<input type="checkbox" id="nav-trigger" class="nav-trigger"/>
	  <label for="nav-trigger">Menu</label>
	  <div id="everything">
  <div id="left" class="column">
    <div class="top-left">
      
          <div class="brand">
	<a href="../index.html">CanJS</a>
</div>
<div class="version">
	<p>Version 3.0.0-pre</p>
</div>

      
    </div>
    <div class="bottom-left">
      
          
	<ul>
		
			
				
					<li class="
           	
           	">
						<a class="page"
							href="can-core.html">
							Core
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	parent
           	expanded">
						<a class="page"
							href="can-ecosystem.html">
							Ecosystem
						</a>
						
							
	<ul>
		
			
				
					<li class="current
           	parent
           	expanded">
						<a class="module"
							href="can-fixture.html">
							can-fixture
						</a>
						
							
	<ul>
		
			
				
					<li>
						<span>properties</span>
						
	<ul>
		
			
				
					<li class="
           	
           	">
						<a class="property"
							href="can-fixture.delay.html">
							delay
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="property"
							href="can-fixture.on.html">
							on
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="function"
							href="can-fixture.rand.html">
							rand
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="function"
							href="can-fixture.store.html">
							store
						</a>
						
					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>types</span>
						
	<ul>
		
			
				
					<li class="
           	
           	">
						<a class="typedef"
							href="can-fixture.requestHandler.html">
							requestHandler
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="typedef"
							href="can-fixture.response.html">
							response
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="function"
							href="can-fixture/StoreType.html">
							Store
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="typedef"
							href="can-fixture/types/ajaxSettings.html">
							ajaxSettings
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="typedef"
							href="can-fixture/types/request.html">
							request
						</a>
						
					</li>
				
			
		
	</ul>


					</li>
				
			
		
	</ul>


						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="module"
							href="can-jquery.html">
							can-jquery
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="module"
							href="can-stache-converters.html">
							can-stache-converters
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="module"
							href="can-zone.html">
							can-zone
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="module"
							href="steal-stache.html">
							steal-stache
						</a>
						
					</li>
				
			
		
	</ul>


						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="page"
							href="can-infrastructure.html">
							Infrastructure
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="page"
							href="can-legacy.html">
							Legacy
						</a>
						
					</li>
				
			
		
			
				
					<li class="
           	
           	">
						<a class="page"
							href="guides.html">
							Guides
						</a>
						
					</li>
				
			
		
	</ul>


      
    </div>
  </div>
  <div id="right" class="column">
    <div class="top-right">
      <div class="top-right-top">
  
<ul class="top-right-bitovi">
  <li class="dropdown">
    <a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
    <ul class="dropdown-menu">
      <li><a href="http://bitovi.com">Bitovi.com</a></li>
      <li><a href="http://bitovi.com/blog/">Blog</a></li>
      <li><a href="http://bitovi.com/consulting/">Consulting</a></li>
      <li><a href="http://bitovi.com/training/">Training</a></li>
      <li><a href="http://bitovi.com/open-source/">Open Source</a></li>
    </ul>
  </li>
</ul>
<ul class="top-right-links">
  <li>
    <a href="https://gitter.im/canjs/canjs">Chat</a>
  </li>
  <li>
    <a href="http://forums.donejs.com/c/canjs">Forum</a>
  </li>
  <li>
    <a class="github-button nav-social" href="https://github.com/canjs/canjs" data-count-href="/canjs/canjs/stargazers" data-count-api="/repos/canjs/canjs#stargazers_count">Star</a>
  </li>
  <li>
    <a href="https://twitter.com/canjs" class="twitter-follow-button nav-social" data-show-count="true" data-show-screen-name="false">Follow @canjs</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </li>
</ul>
</div>
<div class="breadcrumb">
	
		<li><a href="../index.html">CanJS</a></li> /
	
		<li><a href="can-ecosystem.html">Ecosystem</a></li> /
	
	
	<li><a href="can-fixture.html">can-fixture</a></li> /
	
	<li class="breadcrumb-dropdown"><a href="#"> On this page</a>
	  <ul class="on-this-page"></ul>
	</li>
</div>

    </div>
    <div class="bottom-right">
      <article>
  <section class="title">
	<h1>can-fixture</h1>
	<ul class="title-social">
		
		
	</ul>
</section>




  
    <section class="description">
    <p>can-fixture intercepts an AJAX request and simulates the response with a file or function.</p>

</section>

  




<div class="signature">
  <h2 class="signature-title">
    <code>fixture(ajaxSettings, requestHandler(...))</code>
  </h2>
  <p>If an XHR request matches ajaxSettings, calls requestHandler with the XHR requests data. Makes the XHR request respond with the return value of requestHandler or the result of calling its response argument.</p>
<p>The following traps requests to GET /todos and responds with an array of data:</p>
<pre><code class="language-js">fixture({method: &quot;get&quot;, url: &quot;/todos&quot;},
        function(request, response, headers, ajaxSettings){
    return {
        data: [
            {id: 1, name: &quot;dishes&quot;},
            {id: 2, name: &quot;mow&quot;}
        ]
    };
})
</code></pre>
<p>When adding a fixture, it will remove any identical fixtures from the list of fixtures. The last fixture added will be the first matched.</p>

  
  <div class="parameters">
    <h3 class="parameters-title">Parameters</h3>
      <ol>
        
          <li><b>ajaxSettings</b> <code>{<a href="can-fixture/types/ajaxSettings.html" >ajaxSettings</a>}</code>: <p>An object that is used to match values on an XHR object, namely the url and method. url can be templated like /todos/{_id}.</p>
</li>
        
          <li><b>requestHandler</b> <code>{<a href="can-fixture.requestHandler.html" >requestHandler</a>(<a href="can-fixture/types/request.html" >request</a>, <a href="can-fixture.response.html" >response</a>, requestHeaders, ajaxSettings)}</code>: <p>Handles the request and provides a response. The next section details this function's use.</p>
</li>
        
      </ol>
  </div>
  
  
  
</div>

<div class="signature">
  <h2 class="signature-title">
    <code>fixture(ajaxSettings, url)</code>
  </h2>
  <p>Redirects the request to another url.  This can be useful for simulating a response with a file.</p>
<pre><code class="language-js">fixture({url: &quot;/tasks&quot;}, &quot;fixtures/tasks.json&quot;);
</code></pre>
<p>Placeholders available in the <code>ajaxSettings</code> url will be available in the redirect url:</p>
<pre><code class="language-js">fixture({url: &quot;/tasks/{id}&quot;}, &quot;fixtures/tasks/{id}.json&quot;);
</code></pre>

  
  
  
</div>

<div class="signature">
  <h2 class="signature-title">
    <code>fixture(ajaxSettings, data)</code>
  </h2>
  <p>Responds with the <code>JSON.stringify</code> result of <code>data</code>.</p>
<pre><code class="language-js">fixture({url: &quot;/tasks&quot;}, {tasks: [{id: 1, complete: false}]});
</code></pre>

  
  
  
</div>

<div class="signature">
  <h2 class="signature-title">
    <code>fixture(ajaxSettings, delay)</code>
  </h2>
  <p>Delays the ajax request from being made for <code>delay</code> milliseconds.</p>
<pre><code class="language-js">fixture({url: &quot;/tasks&quot;}, 2000);
</code></pre>
<p>This doesn't simulate a response, but is useful for simulating slow connections.</p>

  
  
  
</div>

<div class="signature">
  <h2 class="signature-title">
    <code>fixture(ajaxSettings, null)</code>
  </h2>
  <p>Removes the matching fixture from the list of fixtures.</p>
<pre><code class="language-js">fixture({url: &quot;/tasks&quot;}, &quot;fixtures/tasks.json&quot;);

$.get(&quot;/tasks&quot;) // requests fixtures/tasks.json

fixture({url: &quot;/tasks&quot;}, null);

$.get(&quot;/tasks&quot;) // requests /tasks
</code></pre>

  
  
  
</div>

<div class="signature">
  <h2 class="signature-title">
    <code>fixture(methodAndUrl, url|data|requestHandler)</code>
  </h2>
  <p>A short hand for creating an <a href="can-fixture/types/ajaxSettings.html">ajaxSettings</a> with a <code>method</code> and <code>url</code>.</p>
<pre><code class="language-js">fixture(&quot;GET /tasks&quot;, requestHandler );

// is the same as

fixture({method: &quot;get&quot;, url: &quot;/tasks&quot;}, requestHandler );
</code></pre>
<p>The format is <code>METHOD URL</code>.</p>

  
  
  
</div>

<div class="signature">
  <h2 class="signature-title">
    <code>fixture(url, url|data|requestHandler)</code>
  </h2>
  <p>A short hand for creating an <a href="can-fixture/types/ajaxSettings.html">ajaxSettings</a> with just a <code>url</code>.</p>
<pre><code class="language-js">fixture(&quot;/tasks&quot;, requestHandler);

// is the same as

fixture({url: &quot;/tasks&quot;}, requestHandler);
</code></pre>

  
  
  
</div>

<div class="signature">
  <h2 class="signature-title">
    <code>fixture(fixtures)</code>
  </h2>
  <p>Create multiple fixtures at once.</p>
<pre><code class="language-js">fixture({
    &quot;POST /tasks&quot;: function(){
        return {id: Math.random()}
    },
    &quot;GET /tasks&quot;: {data: [{id: 1, name: &quot;mow lawn&quot;}]},
    &quot;/people&quot;: &quot;fixtures/people.json&quot;
});
</code></pre>

  
  <div class="parameters">
    <h3 class="parameters-title">Parameters</h3>
      <ol>
        
          <li><b>fixtures</b> <code>{Object&lt;methodAndUrl,String|Object|<a href="can-fixture.requestHandler.html" >requestHandler</a>(<a href="can-fixture/types/request.html" >request</a>, <a href="can-fixture.response.html" >response</a>, requestHeaders, ajaxSettings)|<a href="can-fixture/StoreType.html" >Store</a>()&gt;}</code>: <p>A mapping of methodAndUrl to
some response argument type.</p>
</li>
        
      </ol>
  </div>
  
  
  
</div>

<div class="signature">
  <h2 class="signature-title">
    <code>fixture(restfulUrl, store)</code>
  </h2>
  <p>Wire up a restful API scheme to a store.</p>
<pre><code class="language-js">var todoAlgebra = new set.Algebra(
    set.props.id(&quot;id&quot;)
);
var todoStore = fixture.store([
  { id: 1, name: 'Do the dishes'},
  { id: 2, name: 'Walk the dog'}
], todoAlgebra);

fixture(&quot;/api/todos/{id}&quot;, todoStore); // can also be written fixture(&quot;/api/todos&quot;, todoStore);
</code></pre>
<p>This is a shorthand for wiring up the <code>todoStore</code> as follows:</p>
<pre><code class="language-js">fixture({
    &quot;GET /api/todos&quot;: todoStore.getListData,
    &quot;GET /api/todos/{id}&quot;: todoStore.getData,
    &quot;POST /api/todos&quot;: todosStore.createData,
    &quot;PUT /api/todos/{id}&quot;: todos.updateData,
    &quot;DELETE /api/todos/{id}&quot;: todos.destroyData
});
</code></pre>

  
  <div class="parameters">
    <h3 class="parameters-title">Parameters</h3>
      <ol>
        
          <li><b>restfulUrl</b> <code>{String}</code>: <p>The url that may include a template for the place of the ID prop.  The <code>list</code> url is assumed to be <code>restfulUrl</code> with the <code>/{ID_PROP}</code> part removed, if provided; otherwise the <code>item</code> url is assumed to have the <code>/{ID_PROP}</code> part appended to the end.</p>
</li>
        
          <li><b>store</b> <code>{<a href="can-fixture/StoreType.html" >Store</a>()}</code>: <p>A store produced by <a href="can-fixture.store.html">store</a>.</p>
</li>
        
      </ol>
  </div>
  
  
  
</div>




  
</article>
      <footer><p>CanJS is part of <a href="http://donejs.com">DoneJS</a>. Created and maintained by the open source team at <a href="http://bitovi.com">Bitovi</a>. <strong>Currently v3.0.0.</strong></p></footer>
    </div>
  </div>
</div>

		<script type="text/javascript">
		var docObject = {"src":{"path":"node_modules/can-fixture/docs/can-fixture.md"},"description":"can-fixture intercepts an AJAX request and simulates the response with a file or function. \n","type":"module","title":"","types":[{"type":"function","returns":{"types":[{"type":"undefined"}]},"params":[]}],"name":"can-fixture","parent":"can-ecosystem","signatures":[{"code":"fixture(ajaxSettings, requestHandler(...))","description":"\n\nIf an XHR request matches ajaxSettings, calls requestHandler with the XHR requests data. Makes the XHR request respond with the return value of requestHandler or the result of calling its response argument.\n\nThe following traps requests to GET /todos and responds with an array of data:\n\n```js\nfixture({method: \"get\", url: \"/todos\"},\n        function(request, response, headers, ajaxSettings){\n    return {\n        data: [\n            {id: 1, name: \"dishes\"},\n            {id: 2, name: \"mow\"}\n        ]\n    };\n})\n```\n\nWhen adding a fixture, it will remove any identical fixtures from the list of fixtures. The last fixture added will be the first matched.\n","params":[{"types":[{"type":"can-fixture/types/ajaxSettings"}],"name":"ajaxSettings","description":"An object that is used to match values on an XHR object, namely the url and method. url can be templated like /todos/{_id}."},{"types":[{"type":"can-fixture.requestHandler"}],"name":"requestHandler","description":"Handles the request and provides a response. The next section details this function's use.\n"}]},{"code":"fixture(ajaxSettings, url)","description":"\n\nRedirects the request to another url.  This can be useful for simulating a response with a file.\n\n```js\nfixture({url: \"/tasks\"}, \"fixtures/tasks.json\");\n```\n\nPlaceholders available in the `ajaxSettings` url will be available in the redirect url:\n\n```js\nfixture({url: \"/tasks/{id}\"}, \"fixtures/tasks/{id}.json\");\n```\n","params":[]},{"code":"fixture(ajaxSettings, data)","description":"\n\nResponds with the `JSON.stringify` result of `data`.\n\n```js\nfixture({url: \"/tasks\"}, {tasks: [{id: 1, complete: false}]});\n```\n","params":[]},{"code":"fixture(ajaxSettings, delay)","description":"\n\nDelays the ajax request from being made for `delay` milliseconds.\n\n```js\nfixture({url: \"/tasks\"}, 2000);\n```\n\nThis doesn't simulate a response, but is useful for simulating slow connections.\n","params":[]},{"code":"fixture(ajaxSettings, null)","description":"\n\nRemoves the matching fixture from the list of fixtures.\n\n```js\nfixture({url: \"/tasks\"}, \"fixtures/tasks.json\");\n\n$.get(\"/tasks\") // requests fixtures/tasks.json\n\nfixture({url: \"/tasks\"}, null);\n\n$.get(\"/tasks\") // requests /tasks\n```\n","params":[]},{"code":"fixture(methodAndUrl, url|data|requestHandler)","description":"\n\nA short hand for creating an [can-fixture/types/ajaxSettings] with a `method` and `url`.\n\n```js\nfixture(\"GET /tasks\", requestHandler );\n\n// is the same as\n\nfixture({method: \"get\", url: \"/tasks\"}, requestHandler );\n```\n\nThe format is `METHOD URL`.\n","params":[]},{"code":"fixture(url, url|data|requestHandler)","description":"\n\nA short hand for creating an [can-fixture/types/ajaxSettings] with just a `url`.\n\n```js\nfixture(\"/tasks\", requestHandler);\n\n// is the same as\n\nfixture({url: \"/tasks\"}, requestHandler);\n```\n","params":[]},{"code":"fixture(fixtures)","description":"\n\nCreate multiple fixtures at once.\n\n```js\nfixture({\n    \"POST /tasks\": function(){\n        return {id: Math.random()}\n    },\n    \"GET /tasks\": {data: [{id: 1, name: \"mow lawn\"}]},\n    \"/people\": \"fixtures/people.json\"\n});\n```\n","params":[{"types":[{"type":"Object","template":[{"types":[{"type":"methodAndUrl"}]},{"types":[{"type":"String"},{"type":"Object"},{"type":"can-fixture.requestHandler"},{"type":"can-fixture/StoreType"}]}]}],"name":"fixtures","description":"A mapping of methodAndUrl to\nsome response argument type.\n\n\n"}]},{"code":"fixture(restfulUrl, store)","description":"\n\nWire up a restful API scheme to a store.\n\n```js\nvar todoAlgebra = new set.Algebra(\n    set.props.id(\"id\")\n);\nvar todoStore = fixture.store([\n  { id: 1, name: 'Do the dishes'},\n  { id: 2, name: 'Walk the dog'}\n], todoAlgebra);\n\nfixture(\"/api/todos/{id}\", todoStore); // can also be written fixture(\"/api/todos\", todoStore);\n```\n\nThis is a shorthand for wiring up the `todoStore` as follows:\n\n```js\nfixture({\n    \"GET /api/todos\": todoStore.getListData,\n    \"GET /api/todos/{id}\": todoStore.getData,\n    \"POST /api/todos\": todosStore.createData,\n    \"PUT /api/todos/{id}\": todos.updateData,\n    \"DELETE /api/todos/{id}\": todos.destroyData\n});\n```\n","params":[{"types":[{"type":"String"}],"name":"restfulUrl","description":"The url that may include a template for the place of the ID prop.  The `list` url is assumed to be `restfulUrl` with the `/{ID_PROP}` part removed, if provided; otherwise the `item` url is assumed to have the `/{ID_PROP}` part appended to the end."},{"types":[{"type":"can-fixture/StoreType"}],"name":"store","description":"A store produced by [can-fixture.store].\n"}]}],"_curParam":{"types":[{"type":"can-fixture/StoreType"}],"name":"store","description":"A store produced by [can-fixture.store].\n"},"pathToRoot":".."};
		</script>
		
		<script>
			steal = {
			  instantiated: {
			    "bundles/bit-docs-site/static.css!$css" : null
			  }
			}
		</script>
		<script type='text/javascript' data-main="bit-docs-site/static" src="./static/node_modules/steal/steal.production.js"></script>
		
		<script async defer src="https://buttons.github.io/buttons.js"></script>
	</body>
</html>